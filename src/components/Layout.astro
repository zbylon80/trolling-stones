---
import "../styles/global.css";
import CookieBanner from "./CookieBanner.astro";

const siteOrigin = Astro.site?.origin ?? Astro.url?.origin ?? '';
const pathName = Astro.url.pathname ?? '/';
const canonicalUrl = siteOrigin ? `${siteOrigin}${pathName}` : pathName;
const ogImage = siteOrigin ? `${siteOrigin}/images/hero.jpg` : '/images/hero.jpg';
const logoPath = '/images/logo.jpg';
const logoUrl = siteOrigin ? `${siteOrigin}${logoPath}` : logoPath;
const { title = 'TRolling Stones', description = 'Oficjalna strona zespołu' } = Astro.props;

const structuredData = {
  '@context': 'https://schema.org',
  '@type': 'MusicGroup',
  name: 'TRolling Stones',
  url: siteOrigin || undefined,
  logo: logoUrl,
  image: [logoUrl, ogImage],
  sameAs: [
    'https://www.youtube.com/@TRollnStones',
    'https://www.facebook.com/stones3city',
    'https://www.instagram.com/trollnstones/',
    'https://www.tiktok.com/@trollnstones'
  ]
};
---
<!doctype html>
<html lang="pl">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>{title}</title>
    <meta name="description" content={description} />
    <meta name="theme-color" content="#000000" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <link rel="icon" type="image/jpeg" href="/images/logo.jpg" />
    <meta name="google-site-verification" content="yzvYq1K4LrHnxUqZLI39cGlQVfze41ElrWh1v36kU3Y" />
    <link rel="canonical" href={canonicalUrl} />
    <meta property="og:type" content="website" />
    <meta property="og:title" content={title} />
    <meta property="og:description" content={description} />
    <meta property="og:locale" content="pl_PL" />
    <meta property="og:image" content={ogImage} />
    {siteOrigin && <meta property="og:url" content={canonicalUrl} />}
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content={title} />
    <meta name="twitter:description" content={description} />
    <meta name="twitter:image" content={ogImage} />
    <script type="application/ld+json">{JSON.stringify(structuredData)}</script>
  </head>
  <body>
    <header class="sticky top-0 z-50 border-b border-neutral-800 bg-black">
      <div class="container flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between pt-2 pb-1 sm:pt-1 sm:pb-0.5 md:py-0">
        <a href="/" class="flex items-center gap-3 font-bold tracking-wide text-lg sm:text-xl">
          <img src="/images/logo.jpg" alt="Logo TRolling Stones" class="h-20 w-20 sm:h-[7.5rem] sm:w-[7.5rem] md:h-[11.25rem] md:w-[11.25rem] rounded-full object-cover" width="144" height="144" />
          <span>TRolling Stones</span>
        </a>
        <nav class="flex flex-wrap justify-center sm:justify-end gap-3 sm:gap-4 text-sm">
          <a href="/koncerty">Koncerty</a>
          <a href="/galeria">Galeria</a>
          <a href="/aktualnosci">Aktualności</a>
          <a href="/bio">Bio</a>
          <a href="/sklad">Skład</a>

          <a href="/kontakt">Kontakt</a>
        </nav>
      </div>
    </header>
    <main>
      <slot />
    </main>
    <footer class="border-t border-neutral-800 mt-16">
      <div class="container py-8 text-sm text-neutral-400">
        &copy; {new Date().getFullYear()} TRolling Stones &ndash; wszelkie prawa zastrzeżone.
      </div>
    </footer>
    <CookieBanner />
  </body>
</html>

